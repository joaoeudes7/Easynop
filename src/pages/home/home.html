<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Easynop</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <form [formGroup]="_form">
    <ion-card>
      <ion-item>
        <ion-label>Data</ion-label>
        <ion-datetime formControlName="data" type="datetime-local" displayFormat="DD/MM/YYYY" [(ngModel)]="entity.data"></ion-datetime>
      </ion-item>

      <ion-item>
        <ion-label>Hora</ion-label>
        <ion-datetime formControlName="hora" displayFormat="HH:mm" pickerFormat="HH mm" [(ngModel)]="entity.hora"></ion-datetime>
      </ion-item>
    </ion-card>

    <ion-item mypadding>
      <ion-label>Periodo</ion-label>
      <ion-select formControlName="periodo" [(ngModel)]="entity.periodo">
        <ion-option value="M">Manhã</ion-option>
        <ion-option value="T">Tarde</ion-option>
        <ion-option value="N">Noite</ion-option>
      </ion-select>
    </ion-item>

    <ion-item-divider color="light">3 Campo</ion-item-divider>

    <ion-item mypadding>
      <ion-label>Status de chuva</ion-label>
      <ion-select  formControlName="chuvaStatus" [(ngModel)]="entity.chuvaStatus">
        <ion-option value="21">Chuvas registradas</ion-option>
        <ion-option value="32">Sem chuvas</ion-option>
      </ion-select>
    </ion-item>
    <div *ngIf="entity.chuvaStatus == 21" mypadding>
      <ion-item>
        <ion-input formControlName="qtdChuva" [(ngModel)]="entity.qtdChuva" type="number" placeholder="Quantidade de Chuva"></ion-input>
      </ion-item>

      <ion-item>
        <ion-input formControlName="tempPassado" [(ngModel)]="entity.tempPassado" type="number" placeholder="Tempo passado"></ion-input>
      </ion-item>
      <ion-item>
        <ion-input formControlName="tempPresente" [(ngModel)]="entity.tempPresente" type="number" placeholder="Tempo presente"></ion-input>
      </ion-item>
    </div>

    <ion-item mypadding>
      <ion-input formControlName="alturaNuvens" [(ngModel)]="entity.alturaNuvens" type="text" placeholder="Altura de nuvens predominantes"></ion-input>
    </ion-item>

    <ion-item mypadding>
      <ion-label>Visibilidade</ion-label>
      <ion-select  formControlName="visibilidade" [(ngModel)]="entity.visibilidade">
        <ion-option value="98">Manhã/Tarde = 98%</ion-option>
        <ion-option value="96">Noite = 96%</ion-option>
      </ion-select>
    </ion-item>

    <ion-item-divider color="light">4 Campo</ion-item-divider>

    <ion-item mypadding>
      <ion-input formControlName="qtdNuvens" [(ngModel)]="entity.qtdNuvens" type="number" placeholder="Quantidade de nuvens"></ion-input>
    </ion-item>
    <ion-item mypadding>
      <ion-input formControlName="direcaoNuvens" [(ngModel)]="entity.direcaoNuvens" type="number" placeholder="Direção do vento"></ion-input>
    </ion-item>
    <ion-item mypadding>
      <ion-input formControlName="direcaoVento" [(ngModel)]="entity.direcaoVento" type="number" placeholder="Velocidade do vento"></ion-input>
    </ion-item>

    <ion-item-divider color="light">5 Campo</ion-item-divider>

    <ion-item mypadding>
      <ion-input formControlName="tempAmbiente" [(ngModel)]="entity.tempAmbiente" type="number" placeholder="Temperatura ambiente"></ion-input>
    </ion-item>

    <ion-item-divider color="light">6 Campo</ion-item-divider>

    <ion-item mypadding>
      <ion-input formControlName="pontoOrvalho" [(ngModel)]="entity.pontoOrvalho" type="number" placeholder="Ponto de Orvalho"></ion-input>
    </ion-item>

    <ion-item-divider color="light">7 Campo</ion-item-divider>

    <ion-item mypadding>
      <ion-input formControlName="pressaoAtmosferica" [(ngModel)]="entity.pressaoAtmosferica" type="number" placeholder="Pressão atmosférica"></ion-input>
    </ion-item>

    <ion-item-divider color="light">8 Campo</ion-item-divider>

    <ion-item mypadding>
      <ion-input formControlName="neboluzidade" [(ngModel)]="entity.neboluzidade" type="number" placeholder="Neboluzidade"></ion-input>
    </ion-item>

    <ion-item-divider color="light">Tipos de Nuvens</ion-item-divider>

    <ion-item mypadding>
      <ion-label>NH: {{entity.tiposNuvens.nh}}</ion-label>
      <ion-range  formControlName="nh" min="0" max="9" step="1" snaps="false" [(ngModel)]="entity.tiposNuvens.nh" color="sunny">
        <ion-icon range-left small color="primary" name="cloud-outline"></ion-icon>
        <ion-icon range-right color="primary" name="cloud"></ion-icon>
      </ion-range>
    </ion-item>

    <ion-item mypadding>
      <ion-label>CL: {{entity.tiposNuvens.cl}}</ion-label>
      <ion-range  formControlName="cl" min="0" max="9" step="1" snaps="false" [(ngModel)]="entity.tiposNuvens.cl" color="sunny">
        <ion-icon range-left small color="primary" name="cloud-outline"></ion-icon>
        <ion-icon range-right color="primary" name="cloud"></ion-icon>
      </ion-range>
    </ion-item>

    <ion-item mypadding>
      <ion-label>CM: {{entity.tiposNuvens.cn}}</ion-label>
      <ion-range formControlName="cn" min="0" max="9" step="1" snaps="false" [(ngModel)]="entity.tiposNuvens.cn" color="sunny">
        <ion-icon range-left small color="primary" name="cloud-outline"></ion-icon>
        <ion-icon range-right color="primary" name="cloud"></ion-icon>
      </ion-range>
    </ion-item>


    <ion-item mypadding>
      <ion-label>CH: {{entity.tiposNuvens.ch}}</ion-label>
      <ion-range formControlName="ch" min="0" max="9" step="1" snaps="false" [(ngModel)]="entity.tiposNuvens.ch" color="sunny">
        <ion-icon range-left small color="primary" name="cloud-outline"></ion-icon>
        <ion-icon range-right color="primary" name="cloud"></ion-icon>
      </ion-range>
    </ion-item>


    <div *ngIf="entity.periodo == 'M' || entity.periodo == 'N'">
      <ion-item-divider color="light">10 Campo</ion-item-divider>

      <ion-item mypadding *ngIf="entity.periodo == 'M'">
        <ion-input formControlName="tempMin" [(ngModel)]="entity.tempMin" type="number" placeholder="Temperatura Minima"></ion-input>
      </ion-item>
      <div *ngIf="entity.periodo == 'N'">
        <ion-item mypadding>
          <ion-input formControlName="tempMax" [(ngModel)]="entity.tempMax" type="number" placeholder="Temperatura Máxima"></ion-input>
        </ion-item>
        <ion-item mypadding>
          <ion-input formControlName="humidade" [(ngModel)]="entity.humidade" type="number" placeholder="Humidade"></ion-input>
        </ion-item>
        <ion-item mypadding>
          <ion-input formControlName="insolacao" [(ngModel)]="entity.insolacao" type="number" placeholder="Insolação"></ion-input>
        </ion-item>
      </div>
    </div>

    <ion-item-divider color="light">Diferenças de Pressão</ion-item-divider>
    <ion-grid mypadding>
      <ion-row>

        <ion-col>
          <ion-item>
            <ion-input formControlName="n1" [(ngModel)]="entity.pressao.n1" (input)="p2.setFocus()" [max]="1" placeholder="ex: 5"></ion-input>
          </ion-item>
        </ion-col>

        <ion-col>
          <ion-item>
            <ion-input formControlName="n2" [(ngModel)]="entity.pressao.n2" #p2 (input)="p3.setFocus()" [max]="1" placeholder="ex: 5"></ion-input>
          </ion-item>
        </ion-col>

        <ion-col>
          <ion-item>
            <ion-input formControlName="n3" [(ngModel)]="entity.pressao.n3" #p3 (input)="p4.setFocus()" [max]="1" placeholder="ex: 5"></ion-input>
          </ion-item>
        </ion-col>

        <ion-col>
          <ion-item>
            <ion-input formControlName="n4" [(ngModel)]="entity.pressao.n4" #p4 [max]="1" placeholder="ex: 5"></ion-input>
          </ion-item>
        </ion-col>

      </ion-row>
    </ion-grid>

    <!-- Botões Submit e Cancelar -->
<ion-item-divider color="light">Salvar/Limpar Dados</ion-item-divider>
<div class="center">
    <button ion-button [disabled]="entity.key == null" color="danger" (click)="onDelete()">Remover</button>
    <button ion-button color="warn">Limpar</button>
    <button ion-button (click)="onSubmit()" [disabled]="_form.invalid">Salvar</button>
</div>

  </form>

</ion-content>
